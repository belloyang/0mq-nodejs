#include "TimeMeter.h"
#include "Timers/TimerNs.h"

TimeMeter::TimeMeter(const std::string& name)
: IMeter(name)
, m_timer(new TimerNs())
{
  __DEV_CALLSTACK_FUNC__;
  m_startTime = m_timer->now();
}

int64_t TimeMeter::getMetric() const
{
  __DEV_CALLSTACK_FUNC__;
  const timediff_t elapsedTime = m_timer->getElapsed(m_startTime);
  return (int64_t)elapsedTime;
}
