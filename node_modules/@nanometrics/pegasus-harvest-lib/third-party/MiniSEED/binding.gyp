{
  "targets": [
    {
      "target_name": "libMiniSEED",
      "cflags!": ["-fno-exceptions"],
      "cflags_cc!": ["-fno-exceptions"],
      "type": "static_library",
      "sources": [
        "./fileutils.c",
        "./genutils.c",
        "./gswap.c",
        "./lmplatform.c",
        "./logging.c",
        "./lookup.c",
        "./msrutils.c",
        "./pack.c",
        "./packdata.c",
        "./parseutils.c",
        "./selection.c",
        "./tracelist.c",
        "./traceutils.c",
        "./unpack.c",
        "./unpackdata.c"
        ],
      "cflags": ["-Wall"],
  
      "msvs_settings": {
        "VCCLCompilerTool": {
          "ExceptionHandling": 1
        }
      },

      "conditions": [
        ['OS=="win"', {
          "defines": ['__WIN32']
        }],
        ['OS=="linux"', {
          "defines": ['__linux__'],
          "conditions": [
            ['target_arch=="silvermont"', {
                "cflags": ['-march=silvermont', '-mtune=silvermont', '-m64'],
                "ldflags": ['-m64']
              }
            ]
          ]
        }],
        ['OS=="mac"', {
          "defines": ['__APPLE__']
        }]         
      ],
      
    }
  ] 
}