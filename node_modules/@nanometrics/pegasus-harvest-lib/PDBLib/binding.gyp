{
  "targets": [
    {
      "target_name": "libPDBLibrary",
      "cflags!": ["-fno-exceptions", "-Wno-unused-parameter"],
      "cflags_cc!": ["-fno-exceptions", "-Wno-unused-parameter"],
      "cflags": ["-Wall", "-Wextra", "-Wpedantic"],
      "cflags_cc": ["-Wall", "-Wextra", "-Wpedantic"],
      "type": "static_library",
      "sources": [
        "./DataTypes/ClockStatus/MsgClockStatus.cpp",
        "./DataTypes/HealthTimeSeries/MsgHealthInput.cpp",
        "./DataTypes/HealthTimeSeries/MsgSohData.cpp",
        "./DataTypes/HealthDigest/MsgHealthDigest.cpp",
        "./DataTypes/IPDBMsgObject.cpp",
        "./DataTypes/HarvestLog/MsgHarvestLog.cpp",
        "./DataTypes/DigitizerOperationLog/MsgGnssControl.cpp",
        "./DataTypes/DigitizerOperationLog/MsgSmartSensor.cpp",
        "./DataTypes/DigitizerOperationLog/MsgOpaqueData.cpp",
        "./DataTypes/DigitizerOperationLog/MsgDigitizerStart.cpp",
        "./DataTypes/DigitizerOperationLog/MsgBleControl.cpp",
        "./DataTypes/DigitizerOperationLog/MsgObsSync.cpp",
        "./DataTypes/SensorTimeSeries/MsgSensorInput.cpp",
        "./DataTypes/ForensicLog/MsgForensicLog.cpp",
        "./Utils/pdb_utils.cpp"
        ],

      "msvs_settings": {
        "VCCLCompilerTool": {
          "ExceptionHandling": 1
        }
      },
      "xcode_settings": {
        "GCC_ENABLE_CPP_EXCEPTIONS" : "YES"
      },

      "conditions": [
        ['OS=="win"', {
          "defines": ['__WIN32']
        }],
        ['OS=="linux"', {
          "defines": ['__linux__'],
          "conditions": [
            ['target_arch=="silvermont"', {
                "cflags": ['-march=silvermont', '-mtune=silvermont', '-m64'],
                "ldflags": ['-m64']
              }
            ]
          ]
        }],
        ['OS=="mac"', {
          "defines": ['__APPLE__']
        }]         
      ],

      "cflags": ["-Wall", "-std=c++1y"],
      'dependencies': [
          '../LibIO/binding.gyp:libLibIO',
          '../PSFLib/binding.gyp:libPSFLibrary'
      ],
      "include_dirs" : [
          '../LibIO',
          '../PSFLib'
      ]    
    }
  ] 
}
