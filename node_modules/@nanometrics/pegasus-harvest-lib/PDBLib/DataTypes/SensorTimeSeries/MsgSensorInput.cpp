#include "MsgSensorInput.h"

#include <cstring> // memcpy

MsgSensorInput::MsgSensorInput()
:  IPDBMsgObject(PDB_eMessageType_t::MSG_SENSOR_INPUT_V0)
{
  __DEV_CALLSTACK_FUNC__;
}

bool MsgSensorInput::init(const Header& header)
{
  __DEV_CALLSTACK_FUNC__;
  //tss_pdb::allocate buffer to keep all the data
  const size_t totalSize = sizeof(Header);
  char* pBuffer = this->_alloc_buffer(totalSize);
  if (pBuffer != nullptr)
  {
    //tss_pdblib::init header
    Header* const headerPtr = reinterpret_cast<Header*>(pBuffer);
    ::memcpy(headerPtr, &header, sizeof(Header));
    return true;
  }

  return false;
}
