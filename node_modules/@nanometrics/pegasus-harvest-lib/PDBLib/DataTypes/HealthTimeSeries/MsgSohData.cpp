#include "MsgSohData.h"

MsgSohData::MsgSohData()
:  IPDBMsgObject(PDB_eMessageType_t::MSG_SOH_DATA_V0)
{
  __DEV_CALLSTACK_FUNC__;
}

bool MsgSohData::init(const Header& header)
{
  __DEV_CALLSTACK_FUNC__;
  //tss_pdb::calculate total data size
  const size_t totalSize = sizeof(Header);
  char* pBuffer = this->_alloc_buffer(totalSize);
  if (pBuffer != nullptr)
  {
    Header* const headerPtr = reinterpret_cast<Header*>(pBuffer);
    ::memcpy(headerPtr, &header, sizeof(Header));
    return true;
  }

  return false;
}
