{
  "targets": [
    {
      "target_name": "harvester",
      "cflags!": ["-fno-exceptions", "-Wno-unused-parameter"],
      "cflags_cc!": ["-fno-exceptions", "-Wno-unused-parameter"],
      "cflags": ["-Wall", "-Wextra", "-Wpedantic"],
      "cflags_cc": ["-Wall", "-Wextra", "-Wpedantic"],
      "type": "executable",
      "sources": [
        "main.cpp",
        "./ConsoleApp/ICLCommand.cpp",
        "./ConsoleApp/ICLApplication.cpp",
        "./Application/HarvesterApp.cpp",
        "./Application/Commands/CLCommand_InitDigitizer.cpp",
        "./Application/Commands/CLCommand_DigitizerInfo.cpp",
        "./Application/Commands/CLCommand_Format.cpp",
        "./Application/Commands/CLCommand_ListDevices.cpp",
        "./Application/Commands/CLCommand_Harvest.cpp",
        "./Application/Commands/CLCommand_GenerateData.cpp",
        "./Application/Commands/CLCommand_GenerateLogs.cpp",
        "./Application/Commands/CLCommand_GenerateSOH.cpp",
        "./Application/Commands/CLCommand_GenerateTimingSOH.cpp",
        "./Application/Commands/CLCommand_VolumeInfo.cpp",
        "./Application/Commands/CLCommand_ReadVolume.cpp",
        "./Application/Commands/CLCommand_EraseVolume.cpp",
        "./Application/Commands/CLCommand_ShowHarvestingHistory.cpp",
        "./Application/Commands/CLCommand_Version.cpp",
        "./Application/Commands/CLCommand_SaveLibrary.cpp",
        "./Application/Commands/CLCommand_LoadLibrary.cpp",
        "./Application/Commands/CLCommand_Telemetry.cpp",
        "./Application/Commands/telemetry/ITelemetryService.cpp",
        "./Application/Commands/telemetry/TelemetryService_Info.cpp",
        "./Application/Commands/telemetry/TelemetryService_SOH.cpp",
        "./Application/Commands/telemetry/TelemetryService_TimeSeries.cpp",
        "./Application/Commands/CLCommandBase.cpp"
      ],

      "msvs_settings": {
        "VCCLCompilerTool": {
          "ExceptionHandling": 1
        }
      },
      "xcode_settings": {
        "GCC_ENABLE_CPP_EXCEPTIONS" : "YES"
      },
		
      "conditions": [
        ['OS=="win"', {
          "defines": ['__WIN32']
        }],
        ['OS=="linux"', {
          "sources": [
            "./Application/Commands/posix/SerialPort_POSIX.cpp"
          ],
          "defines": ['__linux__']
        }],
        ['OS=="mac"', {
          "defines": ['__APPLE__']
        }]         
      ],
		
      "cflags": ["-Wall", "-std=c++1y"],
      'dependencies': [
          '../LibIO/binding.gyp:libLibIO',
          '../PSFLib/binding.gyp:libPSFLibrary',
          '../PDBLib/binding.gyp:libPDBLibrary',
          '../HarvLib/binding.gyp:libHarvLibrary',
          '../TelemetryLib/binding.gyp:libTelemetryLibrary',
          '../third-party/MiniSEED/binding.gyp:libMiniSEED'
      ],
      "include_dirs" : [
          '../LibIO/',
          '../PSFLib/',
          '../PDBLib/',
          '../HarvLib/',
          '../TelemetryLib/',
          '../third-party/MiniSEED/'
      ]
    }
  ] 
}
