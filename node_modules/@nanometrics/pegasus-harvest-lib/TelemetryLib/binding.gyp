{
  "targets": [
    {
      "target_name": "libTelemetryLibrary",
      "cflags!": ["-fno-exceptions", "-Wno-unused-parameter"],
      "cflags_cc!": ["-fno-exceptions", "-Wno-unused-parameter"],
      "cflags": ["-Wall", "-Wextra", "-Wpedantic"],
      "cflags_cc": ["-Wall", "-Wextra", "-Wpedantic"],
      "type": "static_library",
      "sources": [
        "./TelemetryPacketsFactory.cpp",
        "./TelemetryPacketsProcessor.cpp"
      ],

      "msvs_settings": {
        "VCCLCompilerTool": {
          "ExceptionHandling": 1
        }
      },
      "xcode_settings": {
        "GCC_ENABLE_CPP_EXCEPTIONS" : "YES"
      },

      "conditions": [
        ['OS=="win"', {
          "defines": ['__WIN32']
        }],
        ['OS=="linux"', {
          "defines": ['__linux__']
        }],
        ['OS=="mac"', {
          "defines": ['__APPLE__']
        }]         
      ],

      "cflags": ["-Wall", "-std=c++11"],
      'dependencies': [
        '../LibIO/binding.gyp:libLibIO',
        '../PSFLib/binding.gyp:libPSFLibrary',
        '../PDBLib/binding.gyp:libPDBLibrary',
      ],
      "include_dirs" : [
        "../LibIO",
        "../PSFLib",
        "../PDBLib"
      ]
    }
  ] 
}
