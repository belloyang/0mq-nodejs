#ifndef PSFReaderPredicate_MaxPages_h__
#define PSFReaderPredicate_MaxPages_h__

#include "IPSFReaderPredicate.h"

class PSFReaderPredicate_MaxPages : public IPSFReaderPredicate
{
public:
  PSFReaderPredicate_MaxPages(const uint32_t nPagesMax, const std::shared_ptr<ILogger>& logger);
  virtual ~PSFReaderPredicate_MaxPages() = default;

protected:
  virtual sSequenceRange _getSequenceRangeImpl(PSFStream* pStream) const __OVERRIDES__(IPSFReaderPredicate);
  virtual bool _checkImpl(const PSFDataElement* pDataElement) const __OVERRIDES__(IPSFReaderPredicate);
  virtual bool _updateImpl(const PSFDataElement* pDataElement) __OVERRIDES__(IPSFReaderPredicate);

private:
  const uint32_t m_nPagesMax;
  uint32_t m_nPagesRead;
};

#endif //PSFReaderPredicate_MaxPages_h__
