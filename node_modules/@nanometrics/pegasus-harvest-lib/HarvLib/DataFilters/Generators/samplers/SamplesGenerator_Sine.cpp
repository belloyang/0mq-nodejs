#include "SamplesGenerator_Sine.h"

#include <cmath>

SamplesGenerator_Sine::SamplesGenerator_Sine(const double offset, const double step, const double scale)
: ISamplesGenerator()
, m_baseOffset(offset)
, m_step(step)
, m_scale(scale)
{
  __DEV_CALLSTACK_FUNC__;
}

double SamplesGenerator_Sine::_generateRawImpl(const uint64_t sampleIndex)
{
  __DEV_CALLSTACK_FUNC__;
  //tss_harv::calculate offset for sample
  const double offset = m_baseOffset + (double)sampleIndex * m_step;
  // compute sample value & return
  double val = ::sin(offset) * m_scale; // range is [ -scale , +scale ]
  return val;
}
