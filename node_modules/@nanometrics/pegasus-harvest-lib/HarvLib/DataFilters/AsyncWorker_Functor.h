#ifndef AsyncWorker_Functor_h__
#define AsyncWorker_Functor_h__

#include "IAsyncWorker.h"
#include <func_ptr.h>

class AsyncWorker_Functor : public IAsyncWorker
{
public:
  typedef func_ptr<DataDescPtr(IAsyncWorker*, const DataDescPtr)> Functor;
  AsyncWorker_Functor(async_queue<DataDescPtr>& input, async_queue<DataDescPtr>& output,
    const Functor& functor, const std::shared_ptr<ILogger>& logger);
  virtual ~AsyncWorker_Functor() = default;

private:
  virtual DataDescPtr _processImpl(const DataDescPtr data) __OVERRIDES__(IAsyncWorker);

private:
  const Functor m_functor;
};

#endif //AsyncWorker_Functor_h__
